pico-8 cartridge // http://www.pico-8.com
version 34
__lua__
x=15
y=8
dx=1
dy=0
t=0
s=5
l=0
xa={}
ya={}
xo=6
yo=7
xr=flr(rnd(21))*xo
yr=flr(rnd(18))*yo

function _draw()
 cls()
 
 t+=1
 if t>s then t=0 end
     
 if btnp(0) then
  dx=-1
  dy=0
 end
 if btnp(1) then
  dx=1
  dy=0
 end
 if btnp(2) then
  dy=-1
  dx=0
 end
 if btnp(3) then
  dy=1
  dx=0
 end
 
 if t==0 then
x+=dx
y+=dy
end
x=x%32
 y=y%21

if x==xr/xo and y==yr/yo then
   xr=flr(rnd(21))*xo
   yr=flr(rnd(18))*yo
   l+=1
 end

if t==s then
 add(xa,x*xo)
 add(ya,y*yo)
end

 if #xa > l then
  del(xa,xa[1])
  del(ya,ya[1])
 end
 
 for i=1,#xa do
  c=i
  c=1+c%15
  print("웃",xa[i],ya[i],c)
  if xa[i-1]==x*xo and ya[i-1]==y*yo then
   print("whoops!")
   l-=1
  end
 end
 
 print("웃",x*xo,y*yo,10)
 
 print("●",xr,yr,11)
 
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
